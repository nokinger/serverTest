

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.2. Running the Integration Tests &mdash; SCA Buildsystem 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="SCA Buildsystem 1.0.0 documentation" href="../index.html"/>
        <link rel="up" title="4. Integration Tests" href="index.html"/>
        <link rel="next" title="4.3. Application Carrier Board Test Rig" href="app_carrier_test_rig/index.html"/>
        <link rel="prev" title="4.1. Overview" href="overview.html"/>
    <script src="../_static/tty-player/webcomponents-lite.min.js"></script>
    <link href="../_static/tty-player/tty-player.css" rel="stylesheet"></link>
    <script src="../_static/tty-player/term.js"></script>
    <script src="../_static/tty-player/tty-player.js"></script>
     


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> SCA Buildsystem
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">1. Target Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../yocto/index.html">2. The Yocto Buildsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crossdev/index.html">3. (Cross-) Application Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">4. Integration Tests</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">4.1. Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.2. Running the Integration Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">4.2.1. Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-tests">4.2.2. Running the Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#viewing-testresults">4.2.3. Viewing Testresults</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tagging-system">4.2.4. Tagging System</a></li>
<li class="toctree-l3"><a class="reference internal" href="#board-specific-global-variables">4.2.5. Board Specific Global Variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="app_carrier_test_rig/index.html">4.3. Application Carrier Board Test Rig</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../common_tasks/index.html">5. Common Tasks</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">SCA Buildsystem</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">4. Integration Tests</a> &raquo;</li>
      
    <li>4.2. Running the Integration Tests</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/integration-tests/running_tests.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="running-the-integration-tests">
<span id="integration-tests-how-to-run"></span><h1>4.2. Running the Integration Tests<a class="headerlink" href="#running-the-integration-tests" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisites">
<h2>4.2.1. Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../common_tasks/index.html#common-tasks-docker-install"><span class="std std-ref">Docker Installation</span></a></li>
</ul>
</div>
<div class="section" id="running-the-tests">
<h2>4.2.2. Running the Tests<a class="headerlink" href="#running-the-tests" title="Permalink to this headline">¶</a></h2>
<p>Get the source:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone git@DESVML02.dev.sca-solutions.com:ex.schapaa/integration-tests.git
<span class="gp">$</span> <span class="nb">cd</span> integration-tests
<span class="gp">$</span> git checkout -b develop
</pre></div>
</div>
<p>Run the tests with the help of the provided script <code class="docutils literal"><span class="pre">./testrunner/run_in_container.sh</span></code>. An example for testing the <code class="docutils literal"><span class="pre">app_carrier_board</span></code> with the <code class="docutils literal"><span class="pre">enterprise</span></code> image from your local computer is given below.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ./testrunner/run_in_container.sh -i COMMAND ROBOT --variable TARGET_TYPE:app_carrier_board  --variable TEST_HOST:local --variable TARGET_IP:&lt;TARGET_IP&gt; --variable IMAGE_TYPE:enterprise
</pre></div>
</div>
<p>A detailed description is given within the script and an explanation of the used tagging structure in <a class="reference internal" href="#tagging-system"><span class="std std-ref">Tagging System</span></a>. Reading the description within the script is probably essential for further reading.</p>
</div>
<div class="section" id="viewing-testresults">
<h2>4.2.3. Viewing Testresults<a class="headerlink" href="#viewing-testresults" title="Permalink to this headline">¶</a></h2>
<p>After running the integration-test a report can be found in <code class="docutils literal"><span class="pre">output/report.html</span></code> in the
source folder.</p>
</div>
<div class="section" id="tagging-system">
<span id="id1"></span><h2>4.2.4. Tagging System<a class="headerlink" href="#tagging-system" title="Permalink to this headline">¶</a></h2>
<p>Robotframework offers the possibility to set several tags for testcases. These can be used to exclude or include tests, which allows structuring the whole test setup.
Commonly a test which is not tagged is run always. Using tags tests can be prevented from being run or chosen to be run.
For that the robotframework uses the command line options <code class="docutils literal"><span class="pre">--include</span></code> and <code class="docutils literal"><span class="pre">--exclude</span></code>. These keywords can be used behind <code class="docutils literal"><span class="pre">COMMAND</span> <span class="pre">ROBOT</span></code>.
In this test setup an important addition has been made. Depending on the specified <code class="docutils literal"><span class="pre">TARGET_TYPE</span></code> and <code class="docutils literal"><span class="pre">IMAGE_TYPE</span></code> all tests tagged with another <code class="docutils literal"><span class="pre">TARGET_TYPE</span></code> or <code class="docutils literal"><span class="pre">IMAGE_TYPE</span></code> but the specified are excluded.
So the first important tag category are the board and image tags like <code class="docutils literal"><span class="pre">app_carrier_board</span></code>, <code class="docutils literal"><span class="pre">sbc_eval_board</span></code>, <code class="docutils literal"><span class="pre">enterprise</span></code> and <code class="docutils literal"><span class="pre">asc_5000</span></code>.</p>
<p>Another tag category is the testlocation. The two given tags are <code class="docutils literal"><span class="pre">local</span></code> and <code class="docutils literal"><span class="pre">gateway</span></code>. Those tags are used to determine the host which runs the test. The difference of the host/location is given by the assumption, that on <code class="docutils literal"><span class="pre">gateway</span></code> every peripheral interface can be tested and on <code class="docutils literal"><span class="pre">local</span></code> not. So by default <cite>local</cite> assumes that tests tagged with <code class="docutils literal"><span class="pre">can</span></code>, <code class="docutils literal"><span class="pre">serial</span></code> and <code class="docutils literal"><span class="pre">gpio</span></code> cannot be run and excludes them.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To change the exclusion tags defined by <code class="docutils literal"><span class="pre">local</span></code> modify <code class="docutils literal"><span class="pre">./inc/TestInclusionModifier.py</span></code>. In-file documentation is given.</p>
</div>
</div>
<div class="section" id="board-specific-global-variables">
<h2>4.2.5. Board Specific Global Variables<a class="headerlink" href="#board-specific-global-variables" title="Permalink to this headline">¶</a></h2>
<p>For some tests it is useful to make use of globally, board specific variables, which are used within all tests. Two good example are <code class="docutils literal"><span class="pre">can</span></code> and <code class="docutils literal"><span class="pre">cpu</span></code> tests. For some tests regarding these devices it is usefull to loop over the number of devices which then leads to short and convinient test cases. Those <cite>number of CPUs</cite> can be set within <code class="docutils literal"><span class="pre">tests/000_global_setup.robot</span></code>. Again using tags those variables can be done board specific.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="app_carrier_test_rig/index.html" class="btn btn-neutral float-right" title="4.3. Application Carrier Board Test Rig" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral" title="4.1. Overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, SCA Schuckert GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>